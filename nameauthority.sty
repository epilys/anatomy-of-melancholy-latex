\RequirePackage{makeidx}

% First arg: author key.
% Second arg: optional author full name.
% Third arg: optional work name for subentry.
\newcommandx{\idxname}[3][2=\empty,3=\empty,usedefault]{%
  \ifcsdef{name:#1}{%
    }{%
      %name:#1 undefined, defining it as
      \ifx#2\empty%
        \csdef{name:#1}{#1}%
      \else%
        \csdef{name:#1}{#2}%
      \fi%
    }%
  \ifx#3\empty%
    \ifx#2\empty%
      \index{\csuse{name:#1}}\csuse{name:#1}%
    \else%
      \index{\csuse{name:#1}}#2%
    \fi%
  \else%
    \ifx#2\empty%
      \index{\csuse{name:#1}!#3}\csuse{name:#1}%
    \else%
      \index{\csuse{name:#1}!#3}#2%
    \fi%
  \fi%
}%

% Predefine author names that have non-modern spelling or are shorthand in text
\csdef{name:austin}{Augustine of Hippo}%
\csdef{name:avicenna}{Ibn Sina (Avicenna)}%
\csdef{name:campanella}{Tommaso Campanella}%
\csdef{name:catullus}{Gaius Valerius Catullus}%
\csdef{name:chaucer}{Geoffrey Chaucer}%
\csdef{name:chrysostom}{John Chrysostom}%
\csdef{name:cicero}{Marcus Tullius Cicero}%
\csdef{name:durer}{Albrecht Dürer}%
\csdef{name:horace}{Quintus Horatius Flaccus}%
\csdef{name:marlowe}{Christopher Marlowe}
\csdef{name:mersenne}{Marin Mersenne (Marinus Mersennus)}%
\csdef{name:ovid}{Publius Ovidius Naso}%
\csdef{name:plautus}{Titus Maccius Plautus}%
\csdef{name:polydorevergil}{Polydore Vergil}% Vergil is sometimes spelled Virgil, so this might be confused with the Roman Virgil
\csdef{name:shakespeare}{William Shakespeare}
\csdef{name:buchanan}{George Buchanan}
\csdef{name:theognis}{Theognis of Megara}
\csdef{name:Apollonius}{Apollonius of Tyana}
\csdef{name:tully}{Tully}
\csdef{name:Plutarch}{Plutarch}
\csdef{name:juliuscaesar}{Gaius Julius C\ae{}sar}
\csdef{name:munster}{Sebastian Münster}

% define some common author names

\newcommand*{\Aesop}{\idxname{Aesop}[\AE{}sop]\xspace}
\newcommand*{\Anacreon}{\idxname{Anacreon}\xspace}
\newcommand*{\Apuleius}{\idxname{Apuleius}\xspace}
\newcommand*{\Apollonius}{\idxname{Apollonius}[Apollonius]\xspace}
\newcommand*{\Aristotle}{\idxname{Aristotle}\xspace}
\newcommand*{\Austin}{\idxname{austin}[Austin]\xspace}
\newcommand*{\Avicenna}{\idxname{avicenna}[Avicenna]\xspace}
\newcommand*{\Buchanan}{\idxname{buchanan}[Buchanan]\xspace}
\newcommand*{\Catullus}{\idxname{catullus}[Catullus]\xspace}
\newcommand*{\Chaucer}{\idxname{chaucer}[Chaucer]\xspace}
\newcommand*{\Chrysostom}{\idxname{chrysostom}[Chrysostom]\xspace}
\newcommand*{\Cicero}{\idxname{cicero}[Cicero]\xspace}
\newcommand*{\Democritus}{\idxname{Democritus}\xspace}
\newcommand*{\Diogenes}{\idxname{Diogenes}\xspace}
\newcommand*{\Galen}{\idxname{Galen}\xspace}
\newcommand*{\Heliodorus}{\idxname{heliodorus}[Heliodorus]\xspace}
\newcommand*{\Hesiod}{\idxname{Hesiod}\xspace}
\newcommand*{\HoraceLatin}{\idxname{horace}[Horatius]\xspace}
\newcommand*{\Horace}{\idxname{horace}[Horace]\xspace}
\newcommand*{\Homer}{\idxname{Homer}[Homer]\xspace}
\newcommand*{\Lucretius}{\idxname{Lucretius}\xspace}
\newcommand*{\Marlowe}{\idxname{marlowe}[Marlowe]\xspace}
\newcommand*{\Ovid}{\idxname{ovid}[Ovid]\xspace}
\newcommand*{\Petronius}{\idxname{Petronius}\xspace}
\newcommand*{\Plautus}{\idxname{plautus}[Plautus]\xspace}
\newcommand*{\Plato}{\idxname{Plato}\xspace}
\newcommand*{\Pliny}{\idxname{Pliny}\xspace}
\newcommand*{\Plutarch}{\idxname{Plutarch}\xspace}
\newcommand*{\Seneca}{\idxname{Seneca}\xspace}
\newcommand*{\Shakespeare}{\idxname{shakespeare}{Shakespeare}\xspace}
\newcommand*{\Virgil}{\idxname{Virgil}\xspace}
\newcommand*{\Juvenal}{\idxname{Juvenal}\xspace}
\newcommand*{\Jovianus}{\idxname{Jovianus}\xspace}
\newcommand*{\Theognis}{\idxname{theognis}[Theognis]\xspace}
\newcommand*{\Tully}{\idxname{tully}[Tully]\xspace}
